<section class="min-h-[80vh] py-12 md:py-20 px-4 sm:px-6 lg:px-8 bg-gray-50">
  <div class="max-w-7xl mx-auto">
    
    <header class="text-center mb-12" data-aos="fade-down">
      <h1 class="text-4xl md:text-5xl font-extrabold text-gray-900 mb-2">
        Get a Custom Quote
      </h1>
      <p class="text-lg text-gray-600 max-w-2xl mx-auto">
        Whether you need 50 welcome kits or 5,000 festive hampers, we are here to help. 
        Fill out the form below for a quick consultation.
      </p>
    </header>

    <div class="grid grid-cols-1 lg:grid-cols-3 gap-12">

      <div class="lg:col-span-1 space-y-8 p-8 bg-white rounded-2xl shadow-xl h-full border-t-4 border-pink-500" >
        
        <h2 class="text-2xl font-bold text-gray-800 mb-6">Reach Us Directly</h2>

        <div class="flex items-start">
          <div class="bg-pink-50 p-3 rounded-lg mr-4">
            <mat-icon class="text-pink-600">location_on</mat-icon>
          </div>
          <div>
            <h5 class="text-lg font-semibold text-gray-800">Headquarters</h5>
            <address class="text-gray-600 mt-1 not-italic leading-relaxed">
              235, Binnamangala, 2nd Floor,<br>
              13th Cross Road, 2nd Stage,<br>
              Indira Nagar, Bengaluru - 560038
            </address>
          </div>
        </div>

        <!-- Email -->
        <div class="flex items-start">
          <div class="bg-blue-50 p-3 rounded-lg mr-4">
            <mat-icon class="text-blue-600">mail</mat-icon>
          </div>
          <div>
            <h5 class="text-lg font-semibold text-gray-800">Sales Enquiry</h5>
            <p class="text-gray-600 mt-1">
              <a href="mailto:sales@beanarts.in" class="hover:text-blue-600 transition font-medium">sales@beanarts.in</a>
            </p>
          </div>
        </div>

        <!-- Phone -->
        <div class="flex items-start">
          <div class="bg-green-50 p-3 rounded-lg mr-4">
            <mat-icon class="text-green-600">phone</mat-icon>
          </div>
          <div>
            <h5 class="text-lg font-semibold text-gray-800">Call Us</h5>
            <p class="text-gray-600 mt-1">
              <a href="tel:+918147540690" class="hover:text-green-600 transition font-medium">+91 8147540690</a>
            </p>
            <p class="text-xs text-gray-400 mt-1">Mon - Sat, 9am - 7pm</p>
          </div>
        </div>

        <!-- Map -->
        <div class="map-container overflow-hidden rounded-xl shadow-inner border border-gray-200 mt-6">
          <iframe
            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d15551.54425615631!2d77.6178630291768!3d12.979138499999998!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3bae178bf35724e9%3A0xec37eb7a6d3a81ba!2sProworks!5e0!3m2!1sen!2sin!4v1746719529255!5m2!1sen!2sin"
            width="100%" height="200" style="border:0;" allowfullscreen="" loading="lazy" 
            title="BeanArts Office Location"></iframe>
        </div>
      </div>

      <!-- Contact Form Section (Right Column) -->
      <div class="lg:col-span-2 p-8 bg-white rounded-2xl shadow-xl" >
        <h2 class="text-2xl font-bold text-gray-800 mb-6">Tell Us About Your Project</h2>

        <!-- Submission Message Box -->
        @if (submissionMessage) {
          <div 
            class="p-4 mb-8 rounded-lg flex items-center gap-3"
            [ngClass]="{'bg-green-50 text-green-800 border border-green-200': isSuccess, 'bg-red-50 text-red-800 border border-red-200': !isSuccess}"
            
          >
            <mat-icon>{{ isSuccess ? 'check_circle' : 'error' }}</mat-icon>
            <span class="font-medium">{{ submissionMessage }}</span>
          </div>
        }

        <!-- Reactive Form -->
        <form [formGroup]="contactForm" (ngSubmit)="onSubmit()" class="space-y-4">

          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <!-- Name -->
            <mat-form-field appearance="fill" class="w-full">
              <mat-label>Your Name</mat-label>
              <input matInput formControlName="name">
              @if (hasError('name', 'required')) {
                <mat-error>Name is required</mat-error>
              }
            </mat-form-field>

            <!-- Company Name (Optional but good for B2B) -->
            <mat-form-field appearance="fill" class="w-full">
              <mat-label>Company Name</mat-label>
              <input matInput formControlName="companyName">
            </mat-form-field>
          </div>

          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <!-- Email -->
            <mat-form-field appearance="fill" class="w-full">
              <mat-label>Work Email</mat-label>
              <input matInput formControlName="email" type="email">
              @if (hasError('email', 'required')) {
                <mat-error>Email is required</mat-error>
              } @else if (hasError('email', 'email')) {
                <mat-error>Invalid email format</mat-error>
              }
            </mat-form-field>

            <!-- Phone -->
            <mat-form-field appearance="fill" class="w-full">
              <mat-label>Phone Number</mat-label>
              <input matInput formControlName="phone" type="tel">
              <mat-icon matSuffix>phone</mat-icon>
              @if (hasError('phone', 'required')) {
                <mat-error>Phone is required</mat-error>
              } @else if (hasError('phone', 'pattern')) {
                <mat-error>Enter valid 10-digit number</mat-error>
              }
            </mat-form-field>
          </div>

          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <!-- Service Type Dropdown -->
            <mat-form-field appearance="fill" class="w-full">
              <mat-label>I am interested in...</mat-label>
              <mat-select formControlName="serviceType">
                @for (service of serviceOptions; track service) {
                  <mat-option [value]="service">{{service}}</mat-option>
                }
              </mat-select>
              @if (hasError('serviceType', 'required')) {
                <mat-error>Please select a service</mat-error>
              }
            </mat-form-field>

            <!-- Quantity -->
            <mat-form-field appearance="fill" class="w-full">
              <mat-label>Estimated Quantity (approx)</mat-label>
              <input matInput formControlName="quantity" type="number" min="1">
              <span matSuffix class="text-gray-500 text-sm pr-2">units</span>
            </mat-form-field>
          </div>

          <!-- Message Field -->
          <mat-form-field appearance="fill" class="w-full">
            <mat-label>Additional Details (Budget, Deadline, etc.)</mat-label>
            <textarea matInput formControlName="message" rows="4"></textarea>
            @if (hasError('message', 'required')) {
              <mat-error>Please provide some details</mat-error>
            }
          </mat-form-field>

          <!-- Submit Button -->
          <button 
            mat-flat-button 
            color="primary" 
            type="submit" 
            [disabled]="isSubmitting"
            class="w-full md:w-auto px-12 py-6 text-lg rounded-xl transition-all duration-300 shadow-lg hover:shadow-xl hover:bg-indigo-700"
          >
            @if (isSubmitting) {
              <div class="flex items-center gap-2">
                <mat-icon class="animate-spin text-base">refresh</mat-icon>
                Sending...
              </div>
            } @else {
              Send Enquiry
            }
          </button>
          
          <p class="text-xs text-gray-500 mt-4 text-center md:text-left">
            By submitting this form, you agree to our privacy policy. We typically respond within 24 hours.
          </p>

        </form>
      </div>

    </div>
  </div>
</section>